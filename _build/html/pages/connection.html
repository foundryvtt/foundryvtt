

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Hosting and Connectivity Guide &mdash; Foundry Virtual Tabletop 0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Game Entities" href="entities.html" />
    <link rel="prev" title="Frequently Asked Questions" href="faq.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Foundry Virtual Tabletop
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Foundry Virtual Tabletop</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Anticipated Features and Timelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Hosting and Connectivity Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#hosting-modes">Hosting Modes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#self-hosted">Self-Hosted</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dedicated">Dedicated</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#self-hosted-configuration">Self-Hosted Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dedicated-configuration">Dedicated Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#changing-your-port">Changing Your Port</a></li>
<li class="toctree-l2"><a class="reference internal" href="#where-do-i-put-my-content">Where Do I Put My Content?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="entities.html">Game Entities</a></li>
<li class="toctree-l1"><a class="reference internal" href="canvas.html">The Game Canvas</a></li>
<li class="toctree-l1"><a class="reference internal" href="dice.html">Rolling Dice</a></li>
<li class="toctree-l1"><a class="reference internal" href="ui.html">User Interface Elements</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Foundry Virtual Tabletop</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Hosting and Connectivity Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/pages/connection.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hosting-and-connectivity-guide">
<span id="hosting"></span><h1>Hosting and Connectivity Guide<a class="headerlink" href="#hosting-and-connectivity-guide" title="Permalink to this headline">¶</a></h1>
<p>In Foundry Virtual Tabletop, a game session has one <strong>host</strong> and several <strong>clients</strong>. In order to enjoy a multi-player gaming experience the clients must be able to connect to the host which is running the tabletop software.</p>
<hr class="docutils" />
<div class="section" id="hosting-modes">
<h2>Hosting Modes<a class="headerlink" href="#hosting-modes" title="Permalink to this headline">¶</a></h2>
<p>There are two main hosting modes. The following section attempts to help you understand which hosting mode may be the best choice for you.</p>
<div class="section" id="self-hosted">
<h3>Self-Hosted<a class="headerlink" href="#self-hosted" title="Permalink to this headline">¶</a></h3>
<p>In a self-hosted setting, the application runs on your own computer and creates a local web server which allows other players to connect directly to your computer. The self-hosted mode is most similar to the setup of Fantasy Grounds, Maptool, or GM Forge.</p>
<p><strong>Advantages</strong></p>
<ul class="simple">
<li>Free.</li>
<li>Almost zero setup.</li>
<li>Easy management of content using your own computer’s file system.</li>
</ul>
<p><strong>Disadvantages</strong></p>
<ul class="simple">
<li>Your world is only available when the host is running a session.</li>
<li>Requires clients to be able to connect to your computer - either through a local network or using port forwarding.</li>
<li>Player experience depends on the host’s internet speed.</li>
</ul>
</div>
<div class="section" id="dedicated">
<h3>Dedicated<a class="headerlink" href="#dedicated" title="Permalink to this headline">¶</a></h3>
<p>In a dedicated hosting setting, the application runs on a persistent web server and all players (including the GM) connect to the game session. The dedicated hosting mode is most similar to the experience of Roll20 or Astral.</p>
<p><strong>Advantages</strong></p>
<ul class="simple">
<li>Your world is always online, although gameplay can be paused in between sessions</li>
<li>Clients can easily connect to your world regardless of local network configurations.</li>
<li>Network transfer speeds are typically faster than self-hosted resulting in a better player experience.</li>
</ul>
<p><strong>Disadvantages</strong></p>
<ul class="simple">
<li>You need to have or pay for a web server.</li>
<li>Somewhat more complicated setup, especially for users who are unfamiliar with Linux.</li>
<li>Your world’s static files (maps, tokens, music) need to be transferred to the host server.</li>
</ul>
</div>
</div>
<hr class="docutils" />
<div class="section" id="self-hosted-configuration">
<h2>Self-Hosted Configuration<a class="headerlink" href="#self-hosted-configuration" title="Permalink to this headline">¶</a></h2>
<p>In a self-hosted configuration, you will need to ensure that clients can connect to your PC using your IP address.
There are multiple ways to achieve this and you can use a combination of approaches for different players. By default,
Foundry Virtual Tabletop runs on port <code class="docutils literal notranslate"><span class="pre">30000</span></code>.</p>
<p>1. <strong>Local Area Network</strong>. If your players are on the same network as you, they should be able to connect to your
computer using your local IP address. To discover your own local IP address: for Windows check your Connection Settings
or use <code class="docutils literal notranslate"><span class="pre">ipconfig</span></code> from the Command Prompt, for Mac look at Network Settings under System Preferences or use
<code class="docutils literal notranslate"><span class="pre">ipconfig</span></code> in your Terminal, for Linux use <code class="docutils literal notranslate"><span class="pre">hostname</span> <span class="pre">-i</span></code>. Local network players should connect to your local
IP address and port, for example <code class="docutils literal notranslate"><span class="pre">http://x.x.x.x:30000</span></code>.</p>
<p>2. <strong>Port Forwarding</strong>. If your players are connecting over the internet, they will use your public IP address.
Use a site like <a class="reference external" href="http://whatismyip.host/">http://whatismyip.host/</a> to easily discover your public IP address. In order for this to work, you
will need to forward web traffic for your local network to send the Foundry VTT port to your computer’s local IP
address. This step is required in order for your network to know where to send the connection. Port forwarding can
be intimidating for some users, but it is the recommended approach as it is more secure than other options. The exact
steps to implement port forwarding will depend on your network configuration and hardware. Most frequently, port
forwarding is done within your router configuration interface. The website <a class="reference external" href="https://portforward.com/">https://portforward.com/</a> has general
instructions for the most common router configurations. Once the port is forwarded corretly players can connect
to your public IP address in the browser <code class="docutils literal notranslate"><span class="pre">http://x.x.x.x:30000</span></code>.</p>
<p>3. <strong>Virtual Private Network</strong>. If your players are remote but port forwarding is not an option, a third option can be
to use a VPN service. Please be aware - if you find yourself in this situation, the dedicated hosting option may be a
better choice for you. With a virtual private network, other users will have access to details about your computer as
well as any content (like documents or pictures) that you are sharing with your local network. If you do choose to go
down this route, however, services like Hamachi (<a class="reference external" href="https://www.vpn.net/">https://www.vpn.net/</a>) can create a virtual network - once inside a
VPN your players can connect to your session using the above instructions for Local Area Network.</p>
<p>For self-hosted installation simply download the zipped application which is suitable for your operating system and
extract the archive into a directory of your choice.</p>
<p>The first time starting the application under a self-hosted configuration, you may be prompted by your operating system
for permission to allow the application to interact with the external network. Be sure to allow this permission otherwise
network traffic may be blocked by your operating system firewall.</p>
</div>
<hr class="docutils" />
<div class="section" id="dedicated-configuration">
<h2>Dedicated Configuration<a class="headerlink" href="#dedicated-configuration" title="Permalink to this headline">¶</a></h2>
<p>The configuration for a dedicated server will vary somewhat depending on your hosting platform and networking
requirements. This section provides a simple configuration example for running the server using an AWS free tier
t2.micro instance (<a class="reference external" href="https://aws.amazon.com/ec2/">https://aws.amazon.com/ec2/</a>).</p>
<p>1. Launch a t2.micro (or larger) instance using the Linux distribution of your choice. These instructions are for the
standard Amazon Linux AMI.</p>
<p>2. Configure the inbound rules for your instance security group using the AWS dashboard to allow inbound traffic using
a <code class="docutils literal notranslate"><span class="pre">Custom</span> <span class="pre">TPC</span> <span class="pre">Rule</span></code> for port <code class="docutils literal notranslate"><span class="pre">30000</span></code> (or a different port of your choice).</p>
<p>3. Connect to your new host via SSH. You will need to configure your SSH client to use the security key-pair provided
by AWS.</p>
<ol class="arabic" start="4">
<li><p class="first">Update software versions and install <code class="docutils literal notranslate"><span class="pre">nodejs</span></code> to host the server.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">yum</span> <span class="n">update</span> <span class="o">-</span><span class="n">y</span>
<span class="n">sudo</span> <span class="n">yum</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">gcc</span> <span class="n">gcc</span><span class="o">-</span><span class="n">c</span><span class="o">++</span> <span class="n">make</span> <span class="n">openssl</span><span class="o">-</span><span class="n">devel</span>
<span class="n">curl</span> <span class="o">--</span><span class="n">silent</span> <span class="o">--</span><span class="n">location</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">rpm</span><span class="o">.</span><span class="n">nodesource</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">setup_8</span><span class="o">.</span><span class="n">x</span> <span class="o">|</span> <span class="n">sudo</span> <span class="n">bash</span> <span class="o">-</span>
<span class="n">sudo</span> <span class="n">yum</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">nodejs</span>
</pre></div>
</div>
</li>
<li><p class="first">Download and extract the Linux version of the software in your home directory (or somewhere else if you prefer).:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~</span>
<span class="n">curl</span> <span class="o">-</span><span class="n">s</span> <span class="o">&lt;</span><span class="n">Linux</span> <span class="n">Alpha</span> <span class="n">Download</span> <span class="n">URL</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="n">foundryvtt</span><span class="o">.</span><span class="n">zip</span>
<span class="n">unzip</span> <span class="n">foundryvtt</span><span class="o">.</span><span class="n">zip</span>
<span class="n">rm</span> <span class="n">foundryvtt</span><span class="o">.</span><span class="n">zip</span>
</pre></div>
</div>
</li>
<li><p class="first">Start the server, being sure to pass the headless flag: <code class="docutils literal notranslate"><span class="pre">node</span> <span class="pre">main.js</span> <span class="pre">--headless</span></code>.</p>
</li>
</ol>
<p>7.      Once the server is running, both you and your players can connect to the server using the public IP address of
your EC2 server which is listed in the AWS dashboard for your instance, for example <code class="docutils literal notranslate"><span class="pre">http://x.x.x.x:30000</span></code>.</p>
</div>
<hr class="docutils" />
<div class="section" id="changing-your-port">
<h2>Changing Your Port<a class="headerlink" href="#changing-your-port" title="Permalink to this headline">¶</a></h2>
<p>By default, Foundry VTT uses port <code class="docutils literal notranslate"><span class="pre">30000</span></code>. You can change this by manually editing the <code class="docutils literal notranslate"><span class="pre">options.json</span></code> file in
the root of your installation directory.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Eventually I will add a settings menu where this can be configured without a manual file edit required.</p>
</div>
</div>
<div class="section" id="where-do-i-put-my-content">
<h2>Where Do I Put My Content?<a class="headerlink" href="#where-do-i-put-my-content" title="Permalink to this headline">¶</a></h2>
<p>Once your server is up and running the first step is to create a new World. Once you have a world created, you will
want to start making static content like maps, tokens, audio files, and more available to be used in your world. Your
world data is stored in the <code class="docutils literal notranslate"><span class="pre">public/worlds/&lt;your-world&gt;</span></code> directory. Feel free to use any directory structure you
want within the <code class="docutils literal notranslate"><span class="pre">public</span></code> folder for organizing your content either for a single world or to be shared across
multiple worlds.</p>
<p>When referencing file locations within the VTT - all paths are relative to the <code class="docutils literal notranslate"><span class="pre">public</span></code> folder which is your content
root. For example; suppose you create the following file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span><span class="o">/</span><span class="n">worlds</span><span class="o">/</span><span class="n">my</span><span class="o">-</span><span class="n">world</span><span class="o">/</span><span class="n">maps</span><span class="o">/</span><span class="n">dungeons</span><span class="o">/</span><span class="n">deadly</span><span class="o">-</span><span class="n">dungeon</span><span class="o">-</span><span class="mf">01.</span><span class="n">jpg</span>
</pre></div>
</div>
<p>When using that map as the source for a new Scene - you should reference the file location as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">worlds</span><span class="o">/</span><span class="n">my</span><span class="o">-</span><span class="n">world</span><span class="o">/</span><span class="n">maps</span><span class="o">/</span><span class="n">dungeons</span><span class="o">/</span><span class="n">deadly</span><span class="o">-</span><span class="n">dungeon</span><span class="o">-</span><span class="mf">01.</span><span class="n">jpg</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="entities.html" class="btn btn-neutral float-right" title="Game Entities" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="faq.html" class="btn btn-neutral" title="Frequently Asked Questions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Foundry Gaming LLC.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>