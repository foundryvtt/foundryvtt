

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>HTML Templates and Handlebars &mdash; Foundry Virtual Tabletop Alpha 0.0.6 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/fvtt.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="The Application Class" href="application.html" />
    <link rel="prev" title="Creating UI Elements" href="../ui.html" /> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> Foundry Virtual Tabletop
          

          
          </a>

          
            
            
              <div class="version">
                0.0.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Foundry Virtual Tabletop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Anticipated Features and Timelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">End User License Agreement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hosting.html">Hosting and Connectivity Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">Getting Started with FVTT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../entities.html">Game Entities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dice.html">Rolling Dice</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../api.html">Developer API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../entities.html">Game Entities API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../canvas.html">The Game Canvas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dice.html">Dice Rolling API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../ui.html">Creating UI Elements</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">HTML Templates and Handlebars</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#core-template-helpers">Core Template Helpers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="application.html">The Application Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="forms.html">The Form Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="dialog.html">Dialog Window</a></li>
<li class="toctree-l3"><a class="reference internal" href="notifications.html">Sending Notifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="helpers.html">Tabbed Navigation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../systems.html">Game System Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">Featured Game Systems and Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../partnerships.html">Community Partnerships</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../notes/notes.html">Update Notes Archive</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Foundry Virtual Tabletop</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../api.html">Developer API Documentation</a> &raquo;</li>
        
          <li><a href="../ui.html">Creating UI Elements</a> &raquo;</li>
        
      <li>HTML Templates and Handlebars</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/pages/api/apps/templates.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="html-templates-and-handlebars">
<span id="templating"></span><h1>HTML Templates and Handlebars<a class="headerlink" href="#html-templates-and-handlebars" title="Permalink to this headline">¶</a></h1>
<p>HTML templating in Foundry Virtual Tabletop uses the very flexible and easy-to-use Handlebars.js as it’s templating
engine. As a developer in the FVTT ecosystem, you will end up defining HTML templates which are included as part of your
System, Module, or World. For example, suppose you define the following HTML template and save this as the file named
<code class="docutils literal notranslate"><span class="pre">public/modules/mymodule/templates/hello.html</span></code>.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>My Name is {{name}}<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>I am feeling {{mood}} to learn more about HTML templates in Foundry VTT.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    {{#unless knowEverything}}
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>I have things to learn:<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">ol</span><span class="p">&gt;</span>
        {{#each items}}
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>{{this}}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        {{/each}}
    <span class="p">&lt;/</span><span class="nt">ol</span><span class="p">&gt;</span>
    {{/unless}}
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>This HTML template can be loaded and evaluated against an object which provides the data used for rendering. You can
accomplish this yourself using the base <code class="docutils literal notranslate"><span class="pre">Handlebars.compile</span></code> function, but Foundry VTT provides an extra convenience
layer with the <code class="docutils literal notranslate"><span class="pre">renderTemplate</span></code> method which provides asynchronous template loading and client-side caching which
you are recommended to use.</p>
<dl class="function">
<dt id="renderTemplate">
<code class="descname">renderTemplate</code><span class="sig-paren">(</span><em>path</em>, <em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#renderTemplate" title="Permalink to this definition">¶</a></dt>
<dd><p>Get and render a template using provided data and handle the returned HTML
Support asynchronous file template file loading with a client-side caching layer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>String</em>) – The file path to the target HTML template</li>
<li><strong>data</strong> (<em>Object</em>) – A data object against which to compile the template</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Promise.&lt;HTMLElement&gt;</strong> – Returns the rendered HTML</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>When using the rendering function, provide a data object which corresponds to the variables in your HTML template. For
example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Specify the target template path</span>
<span class="kr">const</span> <span class="nx">templatePath</span> <span class="o">=</span> <span class="s2">&quot;public/modules/mymodule/templates/hello.html&quot;</span>

<span class="c1">// Define the data provided to the Handlebars template</span>
<span class="kr">const</span> <span class="nx">templateData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;Edgar&quot;</span><span class="p">,</span>
  <span class="nx">mood</span><span class="o">:</span> <span class="s2">&quot;curious&quot;</span><span class="p">,</span>
  <span class="nx">knowEverything</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">items</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;How to define a template&quot;</span><span class="p">,</span> <span class="s2">&quot;How to render that template using dynamic data&quot;</span><span class="p">]</span>
<span class="p">}</span>

<span class="c1">// Render the template to compile the HTML</span>
<span class="nx">renderTemplate</span><span class="p">(</span><span class="nx">templatePath</span><span class="p">,</span> <span class="nx">templateData</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">html</span> <span class="p">=&gt;</span> <span class="p">{</span>

    <span class="c1">// Do whatever you want with the returning HTML, for example - add it to the client DOM</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">html</span><span class="p">);</span>
<span class="p">})</span>
</pre></div>
</div>
<p>There is a lot you can do inside Handlebars templates, and I encourage you to spend some time with the documentation
and examples for the Handlebars.js library (<a class="reference external" href="https://handlebarsjs.com/">https://handlebarsjs.com/</a>) in order to learn what is possible.</p>
<p>As you begin to frequently render structured HTML elements within the VTT, you will likely find yourself wanting more
structure to manage the application windows and data they contain. Once you understand the basics of manual template
rendering, a great next step is to learn about the convenience layer and abstraction provided by <a class="reference internal" href="application.html#application"><span class="std std-ref">The Application Class</span></a>
which allows you to define render-able HTML windows using a class pattern.</p>
<div class="section" id="core-template-helpers">
<h2>Core Template Helpers<a class="headerlink" href="#core-template-helpers" title="Permalink to this headline">¶</a></h2>
<p>Foundry Virtual Tabletop defines several built-in template helpers that provide commonly used utility functions. These
are listed below with example HTML template usage for each.</p>
<div class="section" id="selected-option-in-a-select-field">
<h3>Selected Option in a Select Field<a class="headerlink" href="#selected-option-in-a-select-field" title="Permalink to this headline">¶</a></h3>
<p>When rendering a <code class="docutils literal notranslate"><span class="pre">&lt;select&gt;</span></code> element in an HTML template, you frequently want to specify which option is currently
selected. Use the <code class="docutils literal notranslate"><span class="pre">{{#select</span> <span class="pre">variable}}</span></code> block helper as a wrapper outside of the list of <code class="docutils literal notranslate"><span class="pre">&lt;option&gt;</span></code> elements to
designate the correct option as currently selected when rendering the template. This helper is commonly used with an
<code class="docutils literal notranslate"><span class="pre">{{#each}}</span></code> block to render the dropdown list. Example usage:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">select</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;flavor&quot;</span><span class="p">&gt;</span>
{{#select flavor}}
{{#each flavors as |name label|}}
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;{{name}}&quot;</span><span class="p">&gt;</span>{{label}}<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
{{/each}}
{{/select}}
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="checkbox-field-checked-state">
<h3>Checkbox Field Checked State<a class="headerlink" href="#checkbox-field-checked-state" title="Permalink to this headline">¶</a></h3>
<p>Another common requirement when compiling a template for a <code class="docutils literal notranslate"><span class="pre">&lt;form&gt;</span></code> element is to designate whether any checkbox
elements of the type <code class="docutils literal notranslate"><span class="pre">&lt;input</span> <span class="pre">type=&quot;checkbox&quot;&gt;</span></code> are currently checked or not. Use the <code class="docutils literal notranslate"><span class="pre">{{checked</span> <span class="pre">variable}}</span></code> inline
helper to add the “checked” property or not depending on whether the value of <code class="docutils literal notranslate"><span class="pre">variable</span></code> is true. Example usage:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>&lt;input type=&quot;checkbox&quot; name=&quot;hasThing&quot; {{checked hasThing}}/&gt;
</pre></div>
</div>
</div>
<div class="section" id="filepicker-ui">
<h3>FilePicker UI<a class="headerlink" href="#filepicker-ui" title="Permalink to this headline">¶</a></h3>
<p>You can render a file-picker UI element by calling <code class="docutils literal notranslate"><span class="pre">{{filePicker</span> <span class="pre">target=String</span> <span class="pre">type=String}</span></code> with the required field
<code class="docutils literal notranslate"><span class="pre">target</span></code> which provides the <code class="docutils literal notranslate"><span class="pre">name</span></code> of the <code class="docutils literal notranslate"><span class="pre">&lt;input&gt;</span></code> element which should be modified by the FilePicker UI and
<code class="docutils literal notranslate"><span class="pre">type</span></code> which currently accepts either “image” or “audio” as a way to filter the set of files which are shown.
Example usage is:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;profilePath&quot;</span> <span class="na">title</span><span class="o">=</span><span class="s">&quot;Profile Image Path&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">{{profile}}</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;File Path&quot;</span><span class="p">/&gt;</span>
{{filePicker target=&quot;profilePath&quot; type=&quot;image&quot;}}
</pre></div>
</div>
</div>
<div class="section" id="rich-text-editor-tinymce">
<h3>Rich Text Editor (TinyMCE)<a class="headerlink" href="#rich-text-editor-tinymce" title="Permalink to this headline">¶</a></h3>
<p>Another commonly useful helper is to render a rich text editor field which allows you to use the TinyMCE editor for
more user-friendly text editing by calling the <code class="docutils literal notranslate"><span class="pre">{editor</span> <span class="pre">target=key</span> <span class="pre">content=data</span> <span class="pre">button=true}}</span></code> helper where the
<code class="docutils literal notranslate"><span class="pre">target</span></code> argument accepts the key name of the data element which should be updated when text is modified, <code class="docutils literal notranslate"><span class="pre">content</span></code>
specifies the current value of the text pre-loaded in the editor, and <code class="docutils literal notranslate"><span class="pre">button</span></code> controls whether the editor is activated
through a toggled button (if true) or is always active (if false). Example usage is:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
    {{editor content=data.biography.value target=&quot;data.biography.value&quot; button=true}}
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="application.html" class="btn btn-neutral float-right" title="The Application Class" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../ui.html" class="btn btn-neutral" title="Creating UI Elements" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Foundry Gaming LLC.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'Alpha 0.0.6',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>