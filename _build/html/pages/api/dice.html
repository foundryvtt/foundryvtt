

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Dice Rolling API &mdash; Foundry Virtual Tabletop Alpha 0.0.6 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/fvtt.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Creating UI Elements" href="ui.html" />
    <link rel="prev" title="The Tokens Layer" href="canvas/tokens.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Foundry Virtual Tabletop
          

          
          </a>

          
            
            
              <div class="version">
                0.0.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Foundry Virtual Tabletop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Anticipated Features and Timelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">End User License Agreement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hosting.html">Hosting and Connectivity Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Getting Started with FVTT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../entities.html">Game Entities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dice.html">Rolling Dice</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">Developer API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="entities.html">Game Entities API</a></li>
<li class="toctree-l2"><a class="reference internal" href="canvas.html">The Game Canvas</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Dice Rolling API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-roll-interface">The Roll Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-basic-die">The Basic Die</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ui.html">Creating UI Elements</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">Featured Game Systems and Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../partnerships.html">Community Partnerships</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Foundry Virtual Tabletop</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../api.html">Developer API Documentation</a> &raquo;</li>
        
      <li>Dice Rolling API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/pages/api/dice.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dice-rolling-api">
<span id="diceapi"></span><h1>Dice Rolling API<a class="headerlink" href="#dice-rolling-api" title="Permalink to this headline">¶</a></h1>
<p>For mod developers, you may want to customize in-depth the behavior of dice rolling. You can interact directly with
the Roll API by creating instances of the <a class="reference internal" href="#Roll" title="Roll"><code class="xref js js-class docutils literal notranslate"><span class="pre">Roll()</span></code></a> class.</p>
<hr class="docutils" />
<div class="section" id="the-roll-interface">
<h2>The Roll Interface<a class="headerlink" href="#the-roll-interface" title="Permalink to this headline">¶</a></h2>
<p>Most frequently when dispatching or executing dice rolls, you will want to use the <a class="reference internal" href="#Roll" title="Roll"><code class="xref js js-class docutils literal notranslate"><span class="pre">Roll()</span></code></a> API directly, which
handles the parsing of dice syntax, the evaluation of dynamic attributes and more.</p>
<dl class="class">
<dt id="Roll">
<em class="property">class </em><code class="descname">Roll</code><span class="sig-paren">(</span><em>formula</em>, <em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#Roll" title="Permalink to this definition">¶</a></dt>
<dd><p>This class provides an interface and API for conducting dice rolls.
The basic structure for a dice roll is a string formula and an object of data against which to parse it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>formula</strong> (<em>String</em>) – The string formula to parse</li>
<li><strong>data</strong> (<em>Object</em>) – The data object against which to parse attributes within the formula</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Examples:</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="c1">// Attack with advantage!</span>
<span class="kd">let</span> <span class="nx">r</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Roll</span><span class="p">(</span><span class="s2">&quot;2d20kh + @prof + @strMod&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">prof</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">strMod</span><span class="o">:</span> <span class="mi">4</span><span class="p">});</span>

<span class="c1">// The parsed components of the roll formula</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">parts</span><span class="p">);</span>    <span class="c1">// [Die, +, 2, +, 4]</span>

<span class="c1">// Execute the roll</span>
<span class="nx">r</span><span class="p">.</span><span class="nx">roll</span><span class="p">();</span>

<span class="c1">// The resulting equation after it was rolled</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">result</span><span class="p">);</span>   <span class="c1">// 16 + 2 + 4</span>

<span class="c1">// The total resulting from the roll</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">total</span><span class="p">);</span>    <span class="c1">// 22</span>
</pre></div>
</div>
<dl class="function">
<dt id="Roll._parseOptions">
<code class="descclassname">Roll.</code><code class="descname">_parseOptions</code><span class="sig-paren">(</span><em>query</em><span class="sig-paren">)</span><a class="headerlink" href="#Roll._parseOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse options and determine their order of operations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>query</strong> (<em>String</em>) – The dice roll options query</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Roll.alter">
<code class="descclassname">Roll.</code><code class="descname">alter</code><span class="sig-paren">(</span><em>add</em>, <em>multiply</em><span class="sig-paren">)</span><a class="headerlink" href="#Roll.alter" title="Permalink to this definition">¶</a></dt>
<dd><p>Alter the Roll formula by adding or multiplying the number of dice included in each roll term</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>add</strong> (<em>Number</em>) – A number of dice to add to each Die term</li>
<li><strong>multiply</strong> (<em>Number</em>) – A multiplier for the number of dice in each Die term</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Examples:</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">r</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Roll</span><span class="p">(</span><span class="s2">&quot;4d8 + 4 + 2d4&quot;</span><span class="p">);</span>
<span class="nx">r</span><span class="p">.</span><span class="nx">alter</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="nx">r</span><span class="p">.</span><span class="nx">formula</span><span class="p">;</span>
<span class="o">&gt;</span> <span class="mi">9</span><span class="nx">d8</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">+</span> <span class="mi">5</span><span class="nx">d4</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="Roll.data">
<code class="descclassname">Roll.</code><code class="descname">data</code><a class="headerlink" href="#Roll.data" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>type:</strong> Object</p>
<p>The original provided data</p>
</dd></dl>

<dl class="attribute">
<dt id="Roll.dice">
<code class="descclassname">Roll.</code><code class="descname">dice</code><a class="headerlink" href="#Roll.dice" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>type:</strong> Array</p>
<p>Get an Array of any <a class="reference internal" href="#Die" title="Die"><code class="xref js js-class docutils literal notranslate"><span class="pre">Die()</span></code></a> objects which were rolled as part of the evaluation of this roll</p>
</dd></dl>

<dl class="attribute">
<dt id="Roll.formula">
<code class="descclassname">Roll.</code><code class="descname">formula</code><a class="headerlink" href="#Roll.formula" title="Permalink to this definition">¶</a></dt>
<dd><p>Express the Roll as a formatted string formula</p>
</dd></dl>

<dl class="function">
<dt id="Roll.fromJSON">
<code class="descclassname">Roll.</code><code class="descname">fromJSON</code><span class="sig-paren">(</span><em>json</em><span class="sig-paren">)</span><a class="headerlink" href="#Roll.fromJSON" title="Permalink to this definition">¶</a></dt>
<dd><p>Recreate a Roll instance using a provided JSON string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>json</strong> (<em>String</em>) – Serialized JSON data representing the Roll</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Roll</strong> – A revived Roll instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Roll.getActorData">
<code class="descclassname">Roll.</code><code class="descname">getActorData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Roll.getActorData" title="Permalink to this definition">¶</a></dt>
<dd><p>Acquire data object representing the most-likely current actor.
This data can be included in the invocation of a Roll instance for evaluating dynamic attributes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>Object</strong> – An object of data representing the current Actor (if any)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Roll.getTooltip">
<code class="descclassname">Roll.</code><code class="descname">getTooltip</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Roll.getTooltip" title="Permalink to this definition">¶</a></dt>
<dd><p>Render the tooltip HTML for a Roll instance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>Promise.&lt;HTMLElement&gt;</strong> –</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="Roll.parts">
<code class="descclassname">Roll.</code><code class="descname">parts</code><a class="headerlink" href="#Roll.parts" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>type:</strong> Array</p>
<p>An array of parsed formula parts</p>
</dd></dl>

<dl class="function">
<dt id="Roll.render">
<code class="descclassname">Roll.</code><code class="descname">render</code><span class="sig-paren">(</span><em>chatOptions</em><span class="sig-paren">)</span><a class="headerlink" href="#Roll.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Render a Roll instance to HTML</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>chatOptions</strong> (<em>Object</em>) – An object configuring the behavior of the resulting chat message.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Promise.&lt;HTMLElement&gt;</strong> – A Promise which resolves to the rendered HTML</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="Roll.result">
<code class="descclassname">Roll.</code><code class="descname">result</code><a class="headerlink" href="#Roll.result" title="Permalink to this definition">¶</a></dt>
<dd><p>The resulting arithmetic expression after rolls have been evaluated</p>
</dd></dl>

<dl class="attribute">
<dt id="Roll.rgx">
<code class="descclassname">Roll.</code><code class="descname">rgx</code><a class="headerlink" href="#Roll.rgx" title="Permalink to this definition">¶</a></dt>
<dd><p>Regular expression patterns</p>
</dd></dl>

<dl class="function">
<dt id="Roll.roll">
<code class="descclassname">Roll.</code><code class="descname">roll</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Roll.roll" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the Roll, replacing dice and evaluating the total result</p>
<p><strong>Examples:</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">r</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Roll</span><span class="p">(</span><span class="s2">&quot;2d6 + 4 + 1d4&quot;</span><span class="p">);</span>
<span class="nx">r</span><span class="p">.</span><span class="nx">roll</span><span class="p">();</span>
<span class="o">&gt;</span> <span class="mi">12</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Roll.toJSON">
<code class="descclassname">Roll.</code><code class="descname">toJSON</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Roll.toJSON" title="Permalink to this definition">¶</a></dt>
<dd><p>Structure the Roll data as an object suitable for JSON stringification</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>Object</strong> – Structured data which can be serialized into JSON</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Roll.toMessage">
<code class="descclassname">Roll.</code><code class="descname">toMessage</code><span class="sig-paren">(</span><em>chatData</em><span class="sig-paren">)</span><a class="headerlink" href="#Roll.toMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispatch a Roll instance to a new ChatMessage entity</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>chatData</strong> (<em>Object</em>) – The data object to use when creating the message</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Promise.&lt;ChatMessage&gt;</strong> – A promise which resolves to the created Chat Message</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="Roll.total">
<code class="descclassname">Roll.</code><code class="descname">total</code><a class="headerlink" href="#Roll.total" title="Permalink to this definition">¶</a></dt>
<dd><p>Express the total result of the roll</p>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="the-basic-die">
<h2>The Basic Die<a class="headerlink" href="#the-basic-die" title="Permalink to this headline">¶</a></h2>
<p>There may be cases where you want more fine-grained control over dice rolling. In such cases, you can also create
instances of the base <a class="reference internal" href="#Die" title="Die"><code class="xref js js-class docutils literal notranslate"><span class="pre">Die()</span></code></a> class directly.</p>
<dl class="class">
<dt id="Die">
<em class="property">class </em><code class="descname">Die</code><span class="sig-paren">(</span><em>faces</em><span class="sig-paren">)</span><a class="headerlink" href="#Die" title="Permalink to this definition">¶</a></dt>
<dd><p>The base Die class.</p>
<p>Each Die instance represents a distinct term in a roll equation which transacts rolls of an die with some number
of faces. The Die instance provides controls for rerolling, exploding, counting, or modifying the set of results
from the Die.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>faces</strong> (<em>Number</em>) – The number of faces for this Die</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Examples:</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="c1">// Define a 6-sided die</span>
<span class="kd">let</span> <span class="nx">die</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Die</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>

<span class="c1">// Roll the die 4 times</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">roll</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>

<span class="c1">// Roll another 2 times, adding the new results to the existing set</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">roll</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="c1">// For all 6 of the initial rolls, reroll if any result was a 1</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">reroll</span><span class="p">([</span><span class="mi">1</span><span class="p">]);</span>

<span class="c1">// For set of remaining results, roll a bonus die if any result was a 6</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">explode</span><span class="p">([</span><span class="mi">6</span><span class="p">]);</span>

<span class="c1">// Count the total number of rolls which was greater than 3</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">countSuccess</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">);</span>

<span class="c1">// Display the total number of successes</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">total</span><span class="p">);</span>
</pre></div>
</div>
<dl class="function">
<dt id="Die.countSuccess">
<code class="descclassname">Die.</code><code class="descname">countSuccess</code><span class="sig-paren">(</span><em>target</em>, <em>operator</em><span class="sig-paren">)</span><a class="headerlink" href="#Die.countSuccess" title="Permalink to this definition">¶</a></dt>
<dd><p>Map results to 0 or 1 depending on whether they match a success condition</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>target</strong> (<em>Number</em>) – The target result to test against</li>
<li><strong>operator</strong> (<em>String</em>) – The comparison operator against which to test. Default is ‘&gt;=’</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Examples:</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">die</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Die</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">roll</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>               <span class="c1">// Roll 6d3</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">results</span><span class="p">);</span>  <span class="c1">// [1,3,1,2,2,3]</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">countSuccess</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>       <span class="c1">// Count the results where a 3 was rolled</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">results</span><span class="p">);</span>  <span class="c1">// [0,1,0,0,0,1]</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">total</span><span class="p">);</span>    <span class="c1">// 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Die.explode">
<code class="descclassname">Die.</code><code class="descname">explode</code><span class="sig-paren">(</span><em>range</em><span class="sig-paren">)</span><a class="headerlink" href="#Die.explode" title="Permalink to this definition">¶</a></dt>
<dd><p>Explode the rolls in this set by rolling additional dice for each roll which achieved a certain result
Dice which have been re-rolled or have already exploded cannot explode</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>range</strong> (<em>Array</em>) – The range of target results which would trigger an explode</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Die</strong> – The updated die containing new rolls</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Examples:</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">die</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Die</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">roll</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>               <span class="c1">// Roll 6d8</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">results</span><span class="p">);</span>  <span class="c1">// [8,3,6,4,2,7]</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">explode</span><span class="p">([</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]);</span>        <span class="c1">// Explode on 7s and 8s, rolling additional dice</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">results</span><span class="p">);</span>  <span class="c1">// [8,3,6,4,2,7,7,2,3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="Die.faces">
<code class="descclassname">Die.</code><code class="descname">faces</code><a class="headerlink" href="#Die.faces" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>type:</strong> Number</p>
<p>The number of faces for this Die</p>
<p><strong>Examples:</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">die</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Die</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>    <span class="c1">// A 6-sided die has six faces</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">faces</span><span class="p">)</span>   <span class="c1">// 6</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Die.keepHighest">
<code class="descclassname">Die.</code><code class="descname">keepHighest</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#Die.keepHighest" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter the result set, keeping the highest n results in order</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>n</strong> (<em>Number</em>) – The number of results to keep</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Die</strong> – The updated die containing new rolls</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Examples:</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">die</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Die</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">roll</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>               <span class="c1">// Roll 4d6</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">results</span><span class="p">);</span>  <span class="c1">// [6,2,1,5]</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">keepHighest</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>        <span class="c1">// Keep the best 2 results</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">results</span><span class="p">);</span>  <span class="c1">// [6,5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Die.keepLowest">
<code class="descclassname">Die.</code><code class="descname">keepLowest</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#Die.keepLowest" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter the result set, keeping the lowest n results in order</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>n</strong> (<em>Number</em>) – The number of results to keep</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Array</strong> – The filtered results</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Examples:</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">die</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Die</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">roll</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>               <span class="c1">// Roll 4d6</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">results</span><span class="p">);</span>  <span class="c1">// [6,2,1,5]</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">keepLowest</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>         <span class="c1">// Kepe the lowest 3 results</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">results</span><span class="p">);</span>  <span class="c1">// [2,1,5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Die.reroll">
<code class="descclassname">Die.</code><code class="descname">reroll</code><span class="sig-paren">(</span><em>targets</em><span class="sig-paren">)</span><a class="headerlink" href="#Die.reroll" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-roll any results with results in the provided target set
Dice which have already been re-rolled will not be re-rolled again</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>targets</strong> (<em>Array</em>) – Target results which would trigger a reroll</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Die</strong> – The updated die containing new rolls</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Examples:</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">die</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Die</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">roll</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>               <span class="c1">// Roll 3d4</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">results</span><span class="p">);</span>  <span class="c1">// [1,3,4]</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">reroll</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]);</span>         <span class="c1">// Re-roll 1s or 2s</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">results</span><span class="p">);</span>  <span class="c1">// [3,4,2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="Die.results">
<code class="descclassname">Die.</code><code class="descname">results</code><a class="headerlink" href="#Die.results" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>type:</strong> Array</p>
<p>Track the set of kept results out of all rolls</p>
<p><strong>Examples:</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">die</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Die</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">roll</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>               <span class="c1">// Roll 6d6</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">results</span><span class="p">);</span>  <span class="c1">// [6,4,1,2,3,4]</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">keepHighest</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>        <span class="c1">// Keep the 2 best results</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">results</span><span class="p">);</span>  <span class="c1">// [6,4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Die.roll">
<code class="descclassname">Die.</code><code class="descname">roll</code><span class="sig-paren">(</span><em>nd</em><span class="sig-paren">)</span><a class="headerlink" href="#Die.roll" title="Permalink to this definition">¶</a></dt>
<dd><p>Roll the initial set of results for the Die</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>nd</strong> (<em>Number</em>) – The number of times to roll the die</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Die</strong> – The updated die containing new rolls</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Examples:</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">die</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Die</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">roll</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>               <span class="c1">// Roll 6d6</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">results</span><span class="p">);</span>  <span class="c1">// [5,2,4,4,1,6]</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">total</span><span class="p">);</span>    <span class="c1">// 22</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="Die.rolls">
<code class="descclassname">Die.</code><code class="descname">rolls</code><a class="headerlink" href="#Die.rolls" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>type:</strong> Array</p>
<p>Track all dice which have ever been rolled</p>
<p><strong>Examples:</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">die</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Die</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">roll</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>             <span class="c1">// Roll 4d4</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">rolls</span><span class="p">);</span>  <span class="c1">// [{...}, {...}, {...}, {...}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="Die.sides">
<code class="descclassname">Die.</code><code class="descname">sides</code><a class="headerlink" href="#Die.sides" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>type:</strong> Array</p>
<p>An Array representing the faces of the die</p>
<p><strong>Examples:</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">die</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Die</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>    <span class="c1">// One side for each of the possible faces</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">sides</span><span class="p">)</span>   <span class="c1">// [1,2,3,4,5,6]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="Die.total">
<code class="descclassname">Die.</code><code class="descname">total</code><a class="headerlink" href="#Die.total" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>type:</strong> Number</p>
<p>The sum of all kept results</p>
<p><strong>Examples:</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">die</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Die</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="nx">die</span><span class="p">.</span><span class="nx">roll</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>               <span class="c1">// Roll 2d20</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">results</span><span class="p">)</span>   <span class="c1">// [6,17]</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">die</span><span class="p">.</span><span class="nx">total</span><span class="p">)</span>     <span class="c1">// 23</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ui.html" class="btn btn-neutral float-right" title="Creating UI Elements" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="canvas/tokens.html" class="btn btn-neutral" title="The Tokens Layer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Foundry Gaming LLC.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'Alpha 0.0.6',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>