

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The Walls Layer &mdash; Foundry Virtual Tabletop Alpha 0.0.6 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="The Tokens Layer" href="tokens.html" />
    <link rel="prev" title="The Grid Layer" href="grid.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Foundry Virtual Tabletop
          

          
          </a>

          
            
            
              <div class="version">
                0.0.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Foundry Virtual Tabletop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Anticipated Features and Timelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connection.html">Hosting and Connectivity Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../entities.html">Game Entities</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../canvas.html">The Game Canvas</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="background.html">The Background Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="grid.html">The Grid Layer</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">The Walls Layer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#wall-configuration">Wall Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#walls-layer-api">Walls Layer API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tokens.html">The Tokens Layer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dice.html">Rolling Dice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ui.html">Creating UI Elements</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Foundry Virtual Tabletop</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../canvas.html">The Game Canvas</a> &raquo;</li>
        
      <li>The Walls Layer</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/pages/canvas/walls.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-walls-layer">
<span id="canvas-walls"></span><h1>The Walls Layer<a class="headerlink" href="#the-walls-layer" title="Permalink to this headline">¶</a></h1>
<p>The Grid Layer is positioned 2nd from bottom in the layers of the Canvas. The Grid Layer is responsible for
orienting and segmenting the game space into grid spaces. Currently only a square grid is supported but hex
grid support is flagged as a feature for work during Beta development.</p>
<p>The Grid provides convenience tools for measuring distance, restricting token movement, and providing guide
lines for anchoring wall segments or other canvas features.</p>
<div class="section" id="wall-configuration">
<h2>Wall Configuration<a class="headerlink" href="#wall-configuration" title="Permalink to this headline">¶</a></h2>
<p>Walls are customized by the Game Master from within the application. To add or modify walls on the Walls
Layer activate the Wall Layer on the primary toolbar as a player with Game Master privileges. There are
four varietes of wall segments which can be placed into a scene:</p>
<dl class="docutils">
<dt>Regular Walls</dt>
<dd>These walls block both movement and vision. They are rendered on the Walls Layer using an off-white color.</dd>
<dt>Invisible Walls</dt>
<dd>These walls block movement, but not vision. They are rendered on the Walls Layer using a light blue color.</dd>
<dt>Doors</dt>
<dd>These walls are able to be toggled between multiple states. Doors may be <strong>closed</strong>, <strong>open</strong>, or <strong>locked</strong>.
Closed (or locked) doors block both movement and vision, while open doors do not block either vision or
movement. Doors will be rendered as a small icon for player views which, if clicked, will open or close the
door provided it is not locked. Only Game-Master players have the ability to unlock doors. Open doors are
rendered in green while with closed doors in orange and locked doors in red.</dd>
<dt>Secrets</dt>
<dd>These walls work as doors, able to be toggled between <strong>closed</strong>, <strong>open</strong>, or <strong>locked</strong> states, however
unlike regular doors the icon for secret doors is not shown to players and these can only be toggled by the
Game Master. Secret doors are rendered in purple.</dd>
</dl>
<img alt="../../_images/walls-doors.jpg" src="../../_images/walls-doors.jpg" />
<p>In the above image (from the GM perspective), <strong>Daulgrim</strong> the Dwarf Ranger is exploring a small room. The white
lines around the exterior of the room are regular walls, the fountain is surrounded by invisible walls which
prevent the player from moving into the fountain area. There is a closed door to the right is not locked and
could be opened by the player.</p>
</div>
<div class="section" id="walls-layer-api">
<h2>Walls Layer API<a class="headerlink" href="#walls-layer-api" title="Permalink to this headline">¶</a></h2>
<p>Mod developers may wish to interact with or manipulate this layer and can do so using the singleton instance of
the <a class="reference internal" href="#WallsLayer" title="WallsLayer"><code class="xref js js-class docutils literal notranslate"><span class="pre">WallsLayer()</span></code></a> class which is accessible from within the client as <code class="docutils literal notranslate"><span class="pre">canvas.walls</span></code>.</p>
<dl class="class">
<dt id="WallsLayer">
<em class="property">class </em><code class="descname">WallsLayer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#WallsLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>The Walls Layer Container which extends PlaceablesLayer to provide a layer of the primary game canvas</p>
<dl class="function">
<dt id="WallsLayer.activate">
<code class="descclassname">WallsLayer.</code><code class="descname">activate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#WallsLayer.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Override the activation behavior of the PlaceablesLayer.
While active, ambient sound previews are displayed.</p>
</dd></dl>

<dl class="attribute">
<dt id="WallsLayer.blockMovement">
<code class="descclassname">WallsLayer.</code><code class="descname">blockMovement</code><a class="headerlink" href="#WallsLayer.blockMovement" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>type:</strong> Array</p>
<p>An Array of <code class="xref js js-class docutils literal notranslate"><span class="pre">Wall()</span></code> intances on the current Scene which block token movement.
Movement-blocking walls include:</p>
<ol class="arabic simple">
<li>Regular Walls</li>
<li>Invisible Walls</li>
<li>Closed Doors</li>
</ol>
</dd></dl>

<dl class="attribute">
<dt id="WallsLayer.blockVision">
<code class="descclassname">WallsLayer.</code><code class="descname">blockVision</code><a class="headerlink" href="#WallsLayer.blockVision" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>type:</strong> Array</p>
<p>An Array of <code class="xref js js-class docutils literal notranslate"><span class="pre">Wall()</span></code> intances on the current Scene which block token vision.
Vision-blocking walls include:</p>
<ol class="arabic simple">
<li>Regular Walls</li>
<li>Closed Doors</li>
</ol>
</dd></dl>

<dl class="attribute">
<dt id="WallsLayer.dataArray">
<code class="descclassname">WallsLayer.</code><code class="descname">dataArray</code><a class="headerlink" href="#WallsLayer.dataArray" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>type:</strong> Array</p>
<p>Define the source data array underlying the placeable objects contained in this layer</p>
</dd></dl>

<dl class="function">
<dt id="WallsLayer.deactivate">
<code class="descclassname">WallsLayer.</code><code class="descname">deactivate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#WallsLayer.deactivate" title="Permalink to this definition">¶</a></dt>
<dd><p>Override the deactivation behavior of the PlaceablesLayer.
When inactive, ambient sound previews are hidden from view.</p>
</dd></dl>

<dl class="attribute">
<dt id="WallsLayer.doors">
<code class="descclassname">WallsLayer.</code><code class="descname">doors</code><a class="headerlink" href="#WallsLayer.doors" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>type:</strong> Array</p>
<p>An Array of Wall instances in the current Scene which act as Doors</p>
</dd></dl>

<dl class="function">
<dt id="WallsLayer.draw">
<code class="descclassname">WallsLayer.</code><code class="descname">draw</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#WallsLayer.draw" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw the WallsLayer, placing each wall exists in the scene
Draw each Wall within the scene as a child of the objects container</p>
</dd></dl>

<dl class="attribute">
<dt id="WallsLayer.endpoints">
<code class="descclassname">WallsLayer.</code><code class="descname">endpoints</code><a class="headerlink" href="#WallsLayer.endpoints" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>type:</strong> Array</p>
<p>The set of unique vision-blocking wall endpoints
Used to shortcut calculation of line-of-sight</p>
</dd></dl>

<dl class="function">
<dt id="WallsLayer.getNearestVertex">
<code class="descclassname">WallsLayer.</code><code class="descname">getNearestVertex</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#WallsLayer.getNearestVertex" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a pair of coordinates [x0,y0] return the closest walls vertex [x1, y1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>Number</em>) – An x coordiante on the Canvas</li>
<li><strong>y</strong> (<em>Number</em>) – A y coordinate on the Canvas</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Array</strong> – A coordinate pair [x1,y1] which represents the closest grid vertex to the original point.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="WallsLayer.placeableClass">
<code class="descclassname">WallsLayer.</code><code class="descname">placeableClass</code><a class="headerlink" href="#WallsLayer.placeableClass" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>type:</strong> PIXI.Container</p>
<p>Define a Container implementation used to render placeable objects contained in this layer</p>
</dd></dl>

<dl class="attribute">
<dt id="WallsLayer.walls">
<code class="descclassname">WallsLayer.</code><code class="descname">walls</code><a class="headerlink" href="#WallsLayer.walls" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>type:</strong> PIXI.Container</p>
<p>The Walls Container - just references objects array for backwards compatibility</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tokens.html" class="btn btn-neutral float-right" title="The Tokens Layer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="grid.html" class="btn btn-neutral" title="The Grid Layer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Foundry Gaming LLC.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'Alpha 0.0.6',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>