<header id="update-header">
    <h2 class="border" id="update-title">Foundry Virtual Tabletop - Version 11 - Stable 9 Release Notes</h2>
<figure id="update-banner">
        <img alt="Release Notes for Foundry Virtual Tabletop Version 11" src="https://foundryvtt.s3.us-west-2.amazonaws.com/website-media-dev/user_70/screen/v11-s9-release-banner-2023-09-19.webp" title="Foundry VTT - Version 11 - Stable 9 Release Notes"/>
        <figcaption>Welcome to the Foundry Virtual Tabletop update notes. <br/> Image source: Pathfinder: Kingmaker for Pathfinder Second Edition. (Coming soon!)</figcaption>
    </figure>
</header>


<section id="update-overview">
    <h3 class="category-header">Security Fix for WEBP Decoding</h3>
	<p>Last week a security vulnerability was discovered in the underlying WEBP library that our software uses. This vulnerability has posed an urgent problem for all web browsers. You can read more about the vulnerability here: <a href="https://www.theverge.com/2023/9/13/23872484/chrome-firefox-brave-edge-security-update-webp-vulnerability" rel="nofollow" target="_blank">https://www.theverge.com/2023/9/13/23872484/chrome-firefox-brave-edge-security-update-webp-vulnerability</a></p>
	<p>Foundry Virtual Tabletop is built using Electron, which uses Chromium as an internal web browser, therefore this vulnerability is present in Foundry VTT also. This new release version upgrades to the patched version of Electron and Chromium which eliminates this vulnerability.</p>

    <h3 class="category-header">Version 11 Stable Update</h3>
    <p class="warning note">Because the fix to this vulnerability requires a new Electron version, you must fully reinstall the software, rather than using the internal updater tool. To do so, download the latest stable release, <strong>Version 11.309</strong> from <a href="https://foundryvtt.com/me/licenses" rel="nofollow" target="_blank">https://foundryvtt.com/me/licenses</a>.</p>

	<h3 class="category-header">Version 10 Experimental Update</h3>
	<p>For users still using Foundry Virtual Tabletop version 10, we have released a sibling update <a href="https://foundryvtt.com/releases/10.310" rel="nofollow" target="_blank">https://foundryvtt.com/releases/10.310</a> which includes the same fix for version 10 only. It is important to note that this Version 10 fix is on the <strong>testing</strong> channel rather than <strong>stable</strong>. This is because it requires the version 10 build of the software to upgrade from Electron 20 to Electron 24 in order to acquire the fix. Electron chose not to backport the fix to older Electron versions which are outside their committed maintenance window. This upgrade <em>may</em> have unanticipated consequences, so we are not entirely confident designating it as stable.</p>
	<p>For users who are currently on Foundry Virtual Tabletop version 10 (or lower) - this would be a good moment to consider whether you are able to update to Version 11. Our recommendation is for users to update to version 11.309, however if it is important for you to stay on version 10 to preserve module or system compatibility, we recommend that you consider installing version 10.310 which includes this security fix.</p>

    <h3 class="category-header">Questions</h3>
    <p>If you have any questions about this issue or the update process, please ask in our Discord community in <a href="https://discord.com/channels/170995199584108546/689889940590690323" rel="nofollow" target="_blank">#install-and-connection</a> or contact us via email at <a href="https://foundryvtt.com/contact-us/" rel="nofollow" target="_blank">https://foundryvtt.com/contact-us/</a>.</p>
</section>

<section id="security">
<h2 class="section-header border">Security Fixes</h2>
    <h3 class="category-header" id="electron">Electron</h3>
    <ul>
        <li>Updated to Electron 24.8.3 in order to address a vulnerability with WEBP decoding. <a href="https://github.com/foundryvtt/foundryvtt/issues/10006" rel="nofollow" target="_blank">(10006)</a></li>
    </ul>
</section>

<section id="api">
<h2 class="section-header border">API Improvements</h2>
    <h3 class="category-header" id="lighting">Lighting &amp; Vision</h3>
    <ul>
        <li>Added an option to the <code>VisibilityFilter</code> allowing it to apply transparency to explored and/or visible areas. <a href="https://github.com/foundryvtt/foundryvtt/issues/9994" rel="nofollow" target="_blank">(9994)</a></li>
    </ul>
</section>

<section id="bugs">
<h2 class="section-header border">Bug Fixes</h2>
    <h3 class="category-header" id="bugs-docs">Documents and Data</h3>
    <ul>
        <li>Improve migration of legacy NeDB databases in cases where embedded Documents were missing <code>_id</code>s. <a href="https://github.com/foundryvtt/foundryvtt/issues/9969" rel="nofollow" target="_blank">(9969)</a></li>
        <li>Fixed an issue where bad Token data could prevent World launch. <a href="https://github.com/foundryvtt/foundryvtt/issues/9979" rel="nofollow" target="_blank">(9979)</a></li>
        <li>Fixed an issue where calling <code>restore</code> on an ActorDelta would prevent any further updates to that ActorDelta without its parent Token first being updated. <a href="https://github.com/foundryvtt/foundryvtt/issues/9955" rel="nofollow" target="_blank">(9955)</a></li>
        <li>Fixed an issue where certain non-recursive ActorDelta updates would fail, causing issues when re-importing Scenes in Adventures. <a href="https://github.com/foundryvtt/foundryvtt/issues/9956" rel="nofollow" target="_blank">(9959)</a></li>
    </ul>
</section>