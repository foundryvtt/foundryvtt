<h2>Overview</h2>
<p>The Foundry Virtual Tabletop application is highly configurable. This article covers several different methods of configuring Foundry VTT:</p>
<dl>
<dt>The Setup Screen Configuration Menu</dt>
<dd>The simplest way to configure how Foundry VTT runs is by launching it and accessing the Configuration menu located in the Setup screen.</dd>
<dt>Command Line Flags</dt>
<dd>A very simple way to instruct a program that a configuration option needs to be changed. Best used for temporary changes as they have to be specified every time the program launches. These instructions override the options.json file.</dd>
<dt>The <code>options.json</code> File</dt>
<dd>Foundry VTT loads instructions, or directives, from the options.json file every time it launches, allowing you to make more permanent changes to its configuration without having to specify those changes each time you launch. </dd>
</dl>

<h2 id="setup" class="border">The Setup Screen Configuration Menu</h2>
<p class="note warning">Setting an Administrator Password is highly recommended to protect your Setup screen from unwanted access.</p>
<figure class="right">@Asset[288]
	<figcaption>An overview of the Foundry VTT Setup menu - Configuration Tab.</figcaption>
</figure>
<p>The simplest way to adjust configuration options for Foundry VTT is through the configuration tab found on the Setup menu. Changing values on this tab alters them in the <code>options.json</code> file without having to edit the file directly.</p>
<p>This menu contains the most common options you may wish to change and is most commonly used for adjusting the port number used for hosting or the User Data path.</p>
<p>Any change made to the Foundry VTT's directives through the Setup menu requires a restart of the program before it will take effect, choosing Save Changes will write the data to <code>options.json</code> and cause Foundry VTT to shut down.</p>
<section class="collapsible"><header class="collapsible-header">Configuration Options Detailed</header>
	<div class="collapsible-content">
<dl>
	<dt>Administrator Password</dt>
	<dd>This is the password used to access the Setup menu, whether at first launch or when clicking Return to Setup from the login screen of a world. This password is encrypted and stored within the <code>admin.txt</code> Config folder in your User Data directory.</dd>
	<dt>Port</dt>
	<dd>Designates the TCP port for Foundry VTT to listen on </dd>
	<dt>Enable UPnP</dt>
	<dd>Universal Plug & Play (UPnP) allows Foundry VTT to attempt to automatically configure your network to allow inbound connections. If this is checked, any firewall or router on your network which allows UPnP configuration will be automatically updated with a port-forwarding rule, removing the necesessity to manually port forward. For more information, see @Article[port-forwarding].</dd>
	<dt>User Data Path</dt>
	<dd>This directive instructs Foundry VTT to store its data in a different location than default. Please note that the folder you point this to must already exist when you direct to it. <p>Note that custom paths for Windows need to either use forward slashes, ex: <code>D:/path/to/appdata</code> or escaped backwards slashes, ex: <code>D:\\path\\to\\appdata</code>.</p></dd>
	<dt>Default World</dt>
	<dd>Setting this option will cause your Foundry VTT to automatically launch your Game World when the program is started.</dd>
	<dt>Default Language</dt>
	<dd>As may be expected, this setting configures the localization of the program and can be leveraged by localization modules to ensure that the interface is translated to the language of your choosing wherever possible.</dd>
	<dt>Compress Static Files</dt>
	<dd>When checked Foundry will attempt to minify and compact all files (over 10 KB) sent to clients when they connect, resulting in less network bandwidth consumption for most users.</dd>
	<dt>SSL Certificate</dt>
	<dd>Primarily used when configuring your Foundry VTT to use @Article[audio-video], this directive points Foundry VTT to the certificate file used for SSL in order to enable HTTPS transfers. </dd>
	<dt>SSL Private Key</dt>
	<dd>Primarily used when configuring your Foundry VTT to use @Article[audio-video], this directive points Foundry VTT to the private key file used for SSL in order to enable HTTPS transfers.</dd>
	<dt>AWS Configuration Path</dt>
	<dd>This directive points Foundry VTT toward the <code>aws-s3.json</code> file used when configuring @Article[aws-s3].</dd>
</dl>
</div>
</section>


<h2 id="command-line" class="border">Using Command Line Flags</h2>

<p>Foundry has four command-line flags that can be passed when the application is run at the command line.  These work with both the packaged Electron executable as well when starting Foundry via Node.js.</p>
<p>Example usage of the command line syntax to launch the application for various environments are:</p>

<h4>Node.js</h4>
<pre><code class="language-bash">node main.js --port=30000 --world=my-world --dataPath=/local/data/foundryvtt</code></pre>

<h4>Electron (Windows)</h4>
<pre><code class="language-bash">FoundryVTT.exe --port=30000 --world=my-world --dataPath=D:\FoundryVTT</code></pre>

<h4>Electron (Linux)</h4>
<pre><code class="language-bash">foundryvtt --port=30000 --world=my-world --dataPath=/local/data/foundryvtt</code></pre>
<section class="collapsible"><header class="collapsible-header">Command Line Flag Listing</header>
	<div class="collapsible-content">
<dl>
	<dt><code>--demo</code></dt>
	<dd>Launching Foundry in demo mode allows you to configure a world which will be automatically launched and reset at a frequency of your choosing. When the world is reset, it is deactivated. The source data for the world is restored to its original state using a provided .zip file, and the next reset is automatically scheduled. Should provide a path that points to a JSON file (can be anywhere) with the following structure:</dd>
	<dd><code>{"sourceZip": "<the demo world as a zip>",
		"worldName": "<demo world name>",
		"resetSeconds": <reset the demo to blank after this many seconds></code>
	  }</dd>
	<dt><code>--port</code></dt>
	<dd>This specifies the port Foundry will listen on for incoming connections.  If not specified, Foundry will use the port defined in options.json, or <code>30000</code>. This is the port you should use for @Article[port-forwarding].</dd>
	<dt><code>--world</code></dt>
	<dd>This flag allows for a specific world to be opened immediately as Foundry launches. Note that this option will not work if some setup steps are not completed, such as EULA acceptance.
		<br><br>The expected value is the Foundry-generated ID of the world, not the user-facing name of the world. For example, if your campaign was named <code>My PF2E Campaign</code>, Foundry assigns an ID for that world by setting all characters to lowercase and replacing spaces with hyphens, resulting in <code>my-pf2e-campaign</code>.
		<br><br>Because the ID for a world is also used as its datapath, so you can easily look up the ID for a world using the Setup screen. Just locate your world, right-click it, and select the "Edit World" option. The world's ID is listed in the "Data Path" field.</dd>
	<dt><code>--dataPath</code></dt>
	<dd>This lets you specify the user data directory that Foundry will load up to source systems, modules, and world data.</dd>
	<dt><code>--noupnp</code></dt>
	<dd>This disables universal plug and play. If this flag is set, port forwarding will need to be set up, or the server Foundry is running on will need to have a public IP in order for Foundry to be externally accessible by your players.</dd>
	<dt><code>--noupdate</code></dt>
	<dd>This disables the package updating system for the core software, preventing Foundry VTT from checking if there are new core software updates available.</dd>
	<dt><code>--adminPassword</code></dt>
	<dd>Set a default administrator access key for the application which will be required if an admin access key has not been defined. If an admin key has already been set, this option will be ignored.</dd>
	<dt><code>--logsize</code></dt>
	<dd>The maximum size a log can reach before being rotated. The units should be included, e.g. 1024k, 64m, 1g.</dd>
	<dt><code>--maxlogs</code></dt>
	<dd>The maximum number of logs to retain before older ones are deleted.</dd>
	<dt><code>--hotReload</code></dt>
	<dd>Starts the server with hot-reloading enabled. Modules and Systems can specify certain paths to watch for changes. When files under those paths are modified, the changes are injected into the running World and re-rendered without having to refresh the page.</dd>
	<dd>The following file-types are supported: <code>.js</code>, <code>.mjs</code>, <code>.css</code>, <code>.html</code>, <code>.hbs</code>, <code>.json</code>. Hot-reload paths are specified in the package manifest flags:</dd>
	<dd><code>{
		  "flags": {
			"hotReload": {
			  "paths": []
			}
		  }
		}</code></dd>
	<dt><code>--noipdiscovery</code></dt>
	<dd>Disables the attempt to learn what the server's external IP address is. Normally this involves making an outbound request to an IP discovery service. Disabling this skips the outbound request and only displays local IP addresses in invitation dialog.</dd>
</dl>
</div>
</section>
<section class="collapsible"><header class="collapsible-header">Configuring demo mode</header>
	<div class="collapsible-content">
You can configure the demo directive of the <code>options.json</code> file used to configure the server in the following way:
<pre><code class="language-json">	{
	...,
	"demo": {
	  "worldName": "demo-world",
	  "sourceZip": "demo-world.zip",
	  "resetSeconds": 3600
	},
	...
  }
</code></pre>

<p>Alternatively, you can use <code>--demo=demoConfig.json</code> which provides an absolute or relative path to a separate <code>.json</code> file containing the data structure of the above example. This usage is helpful if you sometimes want to run a demo and sometimes want to run a non-demo on the same server. In this case the <code>demoConfig.json</code> would look as follows:</p>
<pre><code class="language-json">	{
	"worldName": "pathfinder-demo",
	"sourceZip": "pathfinder-demo.zip",
	"resetSeconds": 3600,
  }
</code></pre>
</div>
</section>

<h2 id="application-configuration" class="border">The <code>options.json</code> File</h2>
<p>Foundry's behavior can also be customized via editing the <code>options.json</code> file stored in the Config directory within the User Data directory.  The directives take one of three data types:</p>

<dl>
	<dt>String</dt>
	<dd>Alphanumeric characters enclosed in double-quotes.  Example: <code>"examplestring"</code></dd>
	<dt>Integer</dt>
	<dd>Numbers without decimal points or other punctuation.  Example: <code>12345</code></dd>
	<dt>Boolean</dt>
	<dd>The values <code>true</code> or <code>false</code>, all lower-case, without punctuation. <code>true</code> enables a given option, <code>false</code> disables it.</dd>
</dl>

<p>All options can also be set to <code>null</code>, which disables that option.  Do not set a value to null unless you're certain it can be disabled.</p>

<p><strong>Note: JSON is syntax-sensitive, and a malformed options.json file may cause Foundry to not start.</strong></p>
<p>It is strongly advised that you back up options.json before editing it manually.</p>
<section class="collapsible"><header class="collapsible-header">Details for options found in options.json</header>
	<div class="collapsible-content">
<dl>
	<dt>port</dt>
	<dd>Integer -- defines the default port used by the application unless one is explicitly provided using the   --port flag.</dd>
	<dt>fullscreen</dt>
	<dd>Boolean -- determines whether to run the Electron application in fullscreen mode.</dd>
	<dt>dataPath</dt>
	<dd>String -- you may specify an explicit path to the user data directory which should be used as the source for packages and other content. This option is only used of the command line flag with the same name is not also passed.</dd>
	<dt>hostname</dt>
	<dd>String -- a custom hostname to use in place of the host machine's public IP address when displaying the address of the game session. This allows for reverse proxies or DNS servers to modify the public address.</dd>
	<dt>routePrefix</dt>
	<dd>String -- a path which is appended to the base hostname to serve Foundry VTT content from a specific namespace. For example setting this to <code>demo</code> will result in data being served from <code>http://x.x.x.x:30000/demo/</code>.</dd>
	<dt>sslKey</dt>
	<dd>String -- an absolute or relative path that points towards a SSL key file which is used jointly with the <code>sslCert</code> option to enable SSL and https connections. If both options are provided, the server will start using HTTPS automatically.</dd>
	<dt>sslCert</dt>
	<dd>String -- an absolute or relative path that points towards a SSL certificate file which is used jointly with the <code>sslKey</code> option to enable SSL and https connections. If both options are provided, the server will start using HTTPS automatically.</dd>
	<dt>awsConfig</dt>
	<dd>String -- an absolute or relative path which points to an optional AWS configuration file in JSON format containing accessKeyId, secretAccessKey, and region properties. This file is used to configure integrated AWS connectivity for S3 assets and backup. For more information, see @Article[aws-s3]</dd>
	<dt>upnp</dt>
	<dd>Boolean -- allow Universal Plug and Play to automatically request port forwarding for the Foundry VTT port to your local network address. Default is true.</dd>
	<dt>proxySSL</dt>
	<dd>Boolean --  indicates whether the software is running behind a reverse proxy that uses SSL. This allows invitation links and A/V functionality to work as if the Foundry Server had SSL configured directly.</dd>
	<dt>proxyPort</dt>
	<dd>Integer -- informs Foundry that the software is running behind a reverse proxy on some other port. This allows the invitation links created to the game to include the correct external port.</dd>
</dl>
</div>
</section>