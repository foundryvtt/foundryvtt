<h2>Overview</h2>
<p>Foundry Virtual Tabletop supports the use of audio to accentuate player actions or enrich the atmosphere during gaming sessions.</p>
<p>This page details the use of Playlists, the sounds contained within them, and the playlist's various settings.</p>

<h4>Folders</h4>
<p>This directory can contain folders to organize your world's playlists. For details on how to create and use them please see the @Article[folders] article.</p>

<h2 id="playlists" class="border">The Audio Playlists Tab</h2>
<figure class="right">@Image[43]
    <figcaption>The Gamemaster's view of the Playlist Directory sidebar.</figcaption>
    </figure>
<p>The Audio Playlist tab allows Gamemasters and Assistants to create new Playlists and modify existing ones. All players can access this sidebar, to view the currently playing playlists and adjust their client-side volume controls.</p>
<p>Playlists in Foundry can be viewed, created, and managed in this sidebar. Like the Scenes, Actors, and Journal Entries directories, this directory can contain folders to organize your world's audio. Like folders in other directories, the "plus folder" icon will create a new subfolder, and the "circled plus" icon on an item folder will create a new playlist in that folder.</p>

<h3 id="controls">Global Volume Controls</h3>
<p>Global volume controls are client-sided sliders that modify all sounds of certain categories, allowing players to fine-tune volume levels on their end. This panel can be expanded and collapsed with a left-click of the mouse, showing or hiding the following volume sliders:</p>
<p>The <strong>Playlists</strong> volume slider determines the master volume of playlists played by the Gamemaster.</p>
<p>The <strong>Ambient</strong> volume slider adjusts the master volume of Ambient Sounds heard in a Scene.</p>
<p>The <strong>Interface</strong> volume slider adjusts the master volume of sounds triggered through interface actions (such as chat messages and dice rolls).</p>

<h3 id="nowplaying">Currently Playing Track</h3>
<p>If a track is playing, it will be indicated here along with how much of the track has played, and the track's current volume, which you can adjust on the fly. The currently playing area also allows you to quickly toggle if the track should repeat, as well as provides controls to pause and stop the track directly. Pausing a track will not remove it from the currently playing bar, but stopping the track will.</p>
<p>If no track is being played this part of the interface will be hidden.</p>
<p>Changing the volume of a track that is currently playing will change the volume for all users. If you want to adjust the volume for this and all other audio tracks just for you, use the global volume controls.</p>

<h3 id="createplaylist">Creating Playlists</h3>
<p>In order to play audio tracks on demand, or as a sequence, they must be first added to a playlist. A playlist can contain multiple sounds, and the same sound can be in multiple playlists.</p>
<p>Click the "Create Playlist" button at the top of the Playlist Directory sidebar to create a playlist. From there, a prompt will appear, allowing you to enter the name of the playlist. Once you have named your playlist the configuration window will appear, allowing you to set additional details about the playlist. This step is optional, but the following settings can be configured:</p>
<section class="collapsible">
    <header class="collapsible-header">Playlist Configuration Details</header>
    <div class="collapsible-content">
<dl>
    <dt>Playlist Name</dt>
    <dd>This is the name of the playlist, and how it will appear on the sound sidebar.</dd>
    <dt>Playback Mode</dt>
    <dd>This dropdown list allows you to set a specific playback mode for the playlist. Playback Mode determines the behavior of the playlist when the "Play Playlist" button is pressed.<br />- <strong>Sequential Playback:</strong> Plays each sound in the playlist, one at a time, in order.<br />- <strong>Shuffle Tracks:</strong> Plays each sound in the playlist, one at a time, in a random order.<br />- <strong>Simultaneous Playback:</strong> Plays each sound in the playlist at the same time.<br />- <strong>Soundboard Only: </strong> Does not allow the playlist to be played as a whole.</dd>
    <dt>Fade Duration (ms)</dt>
    <dd>Determines the amount of time that Foundry takes to fade in or out a sound in this playlist as it begins playback or stops playback. The time is in milliseconds. Note that fade time for a playlist is combined with fade time for individual tracks.</dd>
    <dt>Playlist Description</dt>
    <dd>This is a text box for writing notes about the playlist, such as artist information, thematic notes, or specific usage situations for the playlist and its sounds.</dd>
    <dt>Bulk Import</dt>
    <dd>This button allows you to select a folder, importing all of the sounds contained within it. This creates a new sound for every valid audio file that Foundry detects in the folder, and gives it a basic name with can be edited after the fact.</dd>
</dl>
</div>
</section>

<h3 id="manage">Managing Playlists</h3>
<p>Playlists on their own have two buttons which are used to add new sounds and cycle the playback mode used.</p>
<dl>
    <dt>Create Sound</dt>
    <dd>Adds a Sound to the playlist. See the "Adding Sounds" section in this article.</dd>
    <dt>Playback Mode</dt>
    <dd>Cycles through the various playback modes as described above.</dd>
</dl>

<section class="collapsible">
	<header class="collapsible-header">Playlist Context Menu Options</header>
	<div class="collapsible-content">
<p>By right-clicking a playlist you can bring up a context menu with additional options for managing playlists. This context menu has the following options:</p>

<dl>
	<dt>Edit Playlist (<i class="fas fa-edit"> </i>)</dt>
	<dd>Allows you to open the playlist configuration window to change any of the playlist details discussed above.</dd>

	<dt>Clear Folder (<i class="fas fa-folder"> </i>)</dt>
	<dd>Removes the playlist from all folders, placing it at the top level of the Playlists directory.</dd>

	<dt>Delete (<i class="fas fa-trash"> </i>)</dt>
	<dd>Deletes the playlist and all contained tracks, after accepting a confirmation prompt.</dd>

	<dt>Duplicate (<i class="fas fa-copy"> </i>)</dt>
	<dd>Creates a copy of the playlist in the directory.</dd>

	<dt>Export Data (<i class="fas fa-file-export"> </i>)</dt>
	<dd>Exports the playlist's data as a JSON file on your computer.</dd>

	<dt>Import Data (<i class="fas fa-file-import"> </i>)</dt>
	<dd>Imports data into the right-clicked playlist from a JSON file on your computer.</dd>
</dl>
</div>
</section>

<p class="note info">Normally, only Gamemasters and Assistant users can view and manage playlists, but all players can see the names of playlists when they are played. Take care to keep your playlist and track names spoiler-free!</p>

<h3 id="trackadd">Adding Tracks</h3>
<figure class="right">@Image[44]
    <figcaption>The New Track configuration window.</figcaption>
</figure>

<p>Once a playlist has been created, individual sounds can be added to it by clicking the "Add Sound" button next to the playlist (notated by a plus sign icon). This will bring up the configuration window allowing you to add the sound to the chosen playlist. Once a sound has been created in a playlist, the playlist can be expanded to manage the individual sound, such as editing the name or sound source, toggling the track to loop when played, or deleting the sound from the playlist.</p>
<section class="collapsible">
    <header class="collapsible-header">Track Configuration Details</header>
    <div class="collapsible-content">
<dl>
<dt>Track Name</dt>
<dd>The name of the sound, as seen in the Playlists Directory. This is the name all players see in the Playlists Directory sidebar while the sound is playing.</dd>
<dt>Audio Source</dt>
<dd>The source file for the sound. This can either be a file stored in Foundry directories, or a direct URL link to a sound file online. FVTT supports .flac, .mp3, .wav, .ogg, .webm and .opus audio files. See the audio section of the @Article[media] for more details.</dd>
<dt>Volume</dt>
<dd>The volume of the individual sound. The sound's volume is also affected by the Master Playlists volume slider.</dd>
<dt>Repeat</dt>
<dd>Determines whether the sound repeats when played. Note that currently, sounds do not loop seamlessly - there will be a short gap between loops, regardless of the sound file chosen.</dd>
<dt>Fade Duration (ms)</dt>
<dd>Determines the amount of time that Foundry takes to fade in or out a sound as it begins playback or stops playback. The time is in milliseconds. Note that fade time for tracks is combined with fade time for playlists. </dd>
<dt>Sound Description</dt>
<dd>This is a text box for writing notes about the sound, such as artist information, thematic notes, or specific usage situations.</dd>
</dl>
</div>
</section>

<section class="collapsible">
	<header class="collapsible-header">Track Context Menu Options</header>
	<div class="collapsible-content">
<p>By right-clicking a track you can bring up a context menu with additional options for managing tracks. This context menu has the following options:</p>

<dl>
	<dt>Edit Sound (<i class="fas fa-edit"> </i>)</dt>
	<dd>Allows you to open the track configuration window to change any of the track details discussed above.</dd>

	<dt>Preload Sound (<i class="fas fa-download"> </i>)</dt>
	<dd>Order Foundry to begin loading a sound in preparation of playback. This can reduce delays between a GM playing a track and users hearing it start to play, which is especially useful for very large sound files.</dd>

	<dt>Delete Sound (<i class="fas fa-trash"> </i>)</dt>
	<dd>Deletes the audio track, after accepting a confirmation prompt.</dd>
</dl>
</div>
</section>

<h2 id="playlistapi" class="border">API References</h2>
<p>To interact with Playlists programmatically, consider using the following API concepts:</p>
<ul>
<li>The @API[classes/foundry.documents.Playlist, The Playlist Document] Playlist Document</li>
<li>The @API[classes/foundry.documents.collections.Playlists, The Playlists Collection] Playlists Collection</li>
<li>The @API[classes/foundry.applications.sidebar.tabs.PlaylistDirectory, The PlaylistDirectory Sidebar Directory] The PlaylistDirectory Sidebar Directory</li>
<li>The @API[classes/foundry.applications.sheets.PlaylistConfig, The PlaylistConfig Application] The PlaylistConfig Application</li>
<li>The @API[classes/foundry.applications.sheets.PlaylistSoundConfig, The PlaylistSoundConfig Application] The PlaylistSoundConfig Application</li>
</ul>