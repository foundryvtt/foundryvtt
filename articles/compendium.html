<h2>Overview</h2>
<p>Compendium Packs exist to to share data between Worlds, and reduce the strain on worlds that have accrued a large number of actors, items, macros, playlists, rollable tables, or scenes. When these elements are not in use, but are not ready to be deleted, they should be stored in compendia. Compendium Packs help you keep your world organized, reduce clutter, and improve performance for all users.</p>
<p>Compendium packs are also used by Add-on Modules and Game Systems to store large amounts of content which can be unpacked and added to an existing game world, such as part of a premium or exclusive content pack.</p>
<p>With the exception of @Article[adventure], each Compendium can only contain one type of document: @Article[actors], @Article[items], @Article[journal], @Article[macros], @Article[playlists], @Article[roll-tables] or @Article[scenes]. Data contained in compendium packs are not loaded for users until they are needed, reducing the amount of data that a particular user must load when first joining a game.</p>

<h2 class="border">The Compendium Pack Directory</h2>
<div class="columns">
	<div class="column" style="flex:2">
<p>Compendium Packs in Foundry can be viewed, created, and managed in the Compendium Pack Directory sidebar. Like the Scenes, Actors, and Journal Entries directories, this directory can contain folders to organize your world's compendia, which hold data that you may want to access later but don't need immediately.</p>
<p>Only a Gamemaster or Assistant-level user can change or move folders, but any players with at least Limited permissions on a compendium can see it and the folder(s) containing it in the directory.</p>

<h4>Sidebar Elements</h4>
<dl>
	<dt>Create Compendium (<i class="fas fa-atlas"> </i>)</dt>
	<dd>This button creates a new Compendium with the name given and set to contain items of the chosen type. If you do not name the Compendium will be automatically named "New Compendium" with a number appended to it.</dd>
	
	<dt>Create Folder (<i class="fas fa-folder"> </i>)</dt>
	<dd>This creates a new folder. For details on how to create and use them please see the @Article[folders] article.</dd>

	<dt>Search Compendium Pack (<i class="fas fa-filter"> </i>)</dt>
	<dd>This lets you select what type of compendium you want to filter for. The selected type will be shown, and all others hidden. You can clear filters from the same button.</dd>
	
	<dt>Search Compendium Pack (<i class="fas fa-search"> </i>)</dt>
	<dd>This searches for and lists any Compendium Pack whose names match the given string of text entered into the search bar.</dd>
	
	<dt>Toggle Sort Style (<i class="fa-solid fa-arrow-down-a-z"> </i>)</dt>
	<dd>This toggles the sidebar between automatic alphabetic sorting and manual sorting.</dd>

	<dt>Collapse All Folders (<i class="fa-solid fa-folder-tree"> </i>)</dt>
	<dd>This collapses all folders, showing only the top-level folders and any Compendium Pack not sorted into a folder.</dd>
</dl>
</div>
<figure class="right">@Image[281]
	<figcaption>The Gamemaster's view of the Compendium Directory sidebar.</figcaption>
	</figure>
</div>
<h3 id="create">Creating New Compendium Packs</h2>
	<figure class="right">@Image[538]
		<figcaption>Creating new Compendium Packs is simple, and a good way to store unused items in your world.</figcaption>
		</figure>
	<p>A new, empty, Compendium Pack can be easily created in any World with the following steps:</p>
	<ol>
		<li>Navigate to the Compendium Packs sidebar tab (<i class="fas fa-atlas"> </i>).</li>
		<li>Click the <strong><i class="fas fa-atlas"> </i> Create Compendium</strong> button.</li>
		<li>Enter a name for the new Compendium Pack (If you don't select a name, it'll be called "New Compendium" with a number appended to it.).</li>
		<li>Choose the type of Document that will be stored in the Compendium Pack (such as Actors, Items, Journal Entries, etc.).</li>
		<li>Click <strong><i class="fa-solid fa-check"></i> Create Compendium</strong> to complete the process.</li>
	</ol>
	
	<p>After your compendium has been created, clicking on its name in the sidebar will open a new window that will allow you to manage the content your compendium pack contains.</p>
	<p>If you intend to create compendium packs that are part of a module that can work between game worlds, see @Article[packaging-guide]</p>
	<p>If you intend to use your compendium to provide importable adventures with multiple types of document, see @Article[adventure].</p>

<h4>Compendium Types</h4>
<p>There are 3 types of compendium the sidebar will display: world (<i class="fa-solid fa-earth-americas"> </i>), module (<i class="fa-solid fa-plug"> </i>), and system (<i class="fa-solid fa-dice"> </i>). This denotes where the compendium is sourced from. World modules come from the currently loaded world, are commonly user generated, and contain content that pertains to the world specifically. Module packs come from plugin modules (see @Article[modules]), and system compendia come from the world's game system which usually consist of premade content meant for players and gamemasters to use in running their games.</p>

<h4>Locking Compendium Packs</h4>
<p>You can only export folders or otherwise modify compendium packs which are unlocked. A Compendium Pack can be locked or unlocked by right-clicking on it from the Compendium Packs sidebar tab and choosing (<i class="fas fa-atlas"> </i>) and clicking <b><i class="fas fa-lock"> </i> Toggle Edit Lock</b>. This will lock or unlock the chosen compendium. Locked compendia are faded out in the sidebar in addition to having a lock icon displayed on them.</p>
<p class="note warning">Important: Users should be very careful not to edit the contents of Compendium Packs provided by Game Systems and Modules, as their changes will be lost when the module or system updates.</p>

<section class="collapsible">
	<header class="collapsible-header">Compendium Context Menu Options</header>
	<div class="collapsible-content">
<figure class="right">@Image[440]
<figcaption>The Gamemaster's context menu for compendia is accessed by right-clicking any compendium in the directory.</figcaption>
</figure>
<p>All compendia in the Compendium Directory can be right-clicked to open up a context menu which allows for additional actions used to manipulate them.</p>

<dl>
	<dt>Toggle Visibility (<i class="fas fa-eye"> </i>)</dt>
	<dd>Toggles whether the compendium can be seen by non-GMs.</dd>

	<dt>Toggle Edit Lock (<i class="fas fa-lock"> </i>)</dt>
	<dd>Toggles on or off the ability to export content to the compendium. While locked the compendium cannot be chosen as an export source for documents.</dd>

	<dt>Duplicate (<i class="fas fa-copy"> </i>)</dt>
	<dd>Creates a copy of the compendium in the directory. Duplicating stacks is disabled for hands and piles that contain compendia, requiring them to be reset first.</dd>

	<dt>Import Data (<i class="fas fa-file-import"> </i>)</dt>
	<dd>Imports data into the right-clicked compendium from a JSON file on your computer.</dd>

	<dt>Delete (<i class="fas fa-trash"> </i>)</dt>
	<dd>Deletes the compendium, after accepting a confirmation prompt.</dd>
</dl>
	</div>
</section>
		
<h3>Exporting Content to Compendium Packs</h3>
<p>Within compendium packs that have been unlocked it is possible to add, remove, or edit Documents in order to provide an organized content structure for your users. Compendium packs are alphabetically sorted by default. There are two ways to add content to compendium packs:</p>

<section class="collapsible">
	<header class="collapsible-header">Adding Individual Documents to Compendium Packs</header>
	<div class="collapsible-content">
		<p>Adding individual Documents to a compendium pack is an easy process, supported by a simple drag and drop workflow:</p>
		<ol>
			<li>Navigate to the Compendium Packs sidebar tab (<i class="fas fa-atlas"> </i>).</li>
			<li>Open the compendium you wish to add content to.</li>
			<li>Be sure your compendium pack is not locked! It is not possible to modify a compendium that is locked.</li>
			<li>Navigate to the sidebar tab where your Documents are stored.</li>
			<li>Drag the Document you wish to add to your compendium from the sidebar into the compendium pack.</li>
		</ol>
		<p class="note info">Adding individual documents to a compendium does not preserve its ID or merge with copies that may already exist in the compendium, each dropped Document will create a new copy in the Compendium Pack.</p>
	</div>

<section class="collapsible">
	<header class="collapsible-header">Adding Folders of Documents to Compendium Packs</header>
	<div class="collapsible-content">
		<figure class="right">@Image[537]
		<figcaption>When exporting a folder to a compendium pack there are several options which can be set to control how the content is handled.</figcaption>
		</figure>
		<p>If you have already organized content in your world into folders for easy management, it is simple to add that folder worth of content to a compendium pack.</p>
		<p>To add a folder of Documents to your compendium:</p>
		<ol>
			<li>Be sure your compendium pack is not locked! It is not possible to modify a compendium that is locked.</li>
			<li>Navigate to the sidebar tab where your Documents are stored.</li>
			<li>Right-click on the folder you wish to add to your compendium.</li>
			<li>Choose "Export to Compendium" from the context menu.</li>
			<li>Choose the Compendium Pack that will be used to store your Documents.</li>
			<li>Optional: choose whether or not you wish to merge the documents with existing documents in the compendium by name, or whether or not you wish to keep the ID of your documents.</li>
			<li>Click Export Content.</li>
		</ol>
		<h4>Export Options</h4>
		<p>The following options are available when exporting content to a compendium:</p>
		<dl>
			<dt>Merge By Name</dt>
			<dd>When checked, Foundry VTT will overwrite existing documents that have the same name as one of your exported documents. When it's unchecked Foundry VTT will create new copies of those documents in the chosen compendium pack.This defaults to on.</dd>
			<dt>Keep Document IDs</dt>
			<dd>When checked, Foundry VTT will overwrite existing documents in the pack that have the same ID as the items you are exporting documents. This defaults to on.</dd>
			<dt>Keep Folder Structure</dt>
			<dd>When checked, Foundry VTT will recreate the folders of the exported content (if necessary) and sort the content into those folders. If toggled off, the content will be placed at the highest level of the compendium, and the fold structure will be ignored. This defaults to on.</dd>
		</dl>
	</div>
</section>
<h4>When to use Compendium Packs</h4>
<p>Storing unused Documents in a Compendium <strong>greatly</strong> reduces the time it takes to load your world. Even though each Actor, Item, or other document may be small, as their numbers start to rise into the hundreds the amount of data that must be transferred to each of your players when they join a game can cause your world to slow down over time. It is a best to practice good organization.</p>

<h3 id="importing-packs">Importing Content from Compendium Packs</h3>
<p>If you have existing Compendium Packs and would like to import content from them, there are a variety of ways to do so.</p>
<p>Once content has been imported into a game world it becomes a localized part of that world, and any changes made to the documents in said world will not be reflected in the compendium they came from unless you also export the content back to the compendium, or create a new compendium with the changed documents. This allows you to use compendia as a means to back up things like actors, items, journals, and scenes that you want to keep original, unaltered copies of for reuse later.</p>
<p>It is important to exercise some caution when importing everything a compendium pack might contain, especially if the compendium pack might be storing hundreds of Documents, as this will negatively impact performance in your world if too many of them are imported.</p>
	
<section class="collapsible">
	<header class="collapsible-header">Importing Single Documents From a Compendium</header>
	<div class="collapsible-content">
		<p>Single item imports of content from a pack is done with the following steps:</p>
		<ol>
			<li>Navigate to the Compendium Packs sidebar tab (<i class="fas fa-atlas"> </i>).</li>
			<li>Click on the Compendium Pack you wish to import from.</li>
			<li>Either: 
				<ul>
					<li>Drag the Document you wish to import from the compendium into the appropriate Document Sidebar tab (for example, Actors go to the Actor tab.)</li>
					<li>Right-click on the Document you wish to import and choose 'Import Entry'</li>
					<li>Click on the document you wish to import to open its sheet, then click <i class="fas fa-download"></i> Import in the window header bar.</li>
				</ul>
			</li>
		</ol>
		<p>Importing Documents one at a time creates a new copy of that Document, and does not preserve the ID of the original Document. Importing an individual Document will not overwrite existing Documents of the same name.</p>
	</div>
</section>
	
<section class="collapsible">
	<header class="collapsible-header">Importing All Documents From a Compendium</header>
	<div class="collapsible-content">
		<p>Importing all documents from a Compendium is a great way to quickly add a large number of documents to your world. However, it is important to note that importing all documents from a Compendium can create a large volume of Documents in your world at once, so it should be used with some measure of caution. Importing all Documents allows you to optionally preserve the ID of the original Document, which will overwrite any Documents in the World which have the same ID.</p>
		<ol>
			<li>Navigate to the Compendium Packs sidebar tab (<i class="fas fa-atlas"> </i>).</li>
			<li>Right-click on the Compendium Pack you wish to import from and click <i class="fas fa-download"></i> Import All Content</li>.</li>
			<li>In the new dialog that appears, choose a folder name to import the content to.</li>
			<li>Click <strong><i class="fa-solid fa-check"></i> Export Content</strong> to complete the process.</li>
		</ol>
	</div>
</section>

<h3 id="exporting-packs">Moving Compendium Packs To Other Worlds</h3>
<p>Compendia are limited the game world they are created within by default, but it is possible to move them to new worlds or create modules which contain compendium packs for use in other worlds. To learn how to do this, refer to the @Article[packaging-guide].</p>